{"expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations", "id": "13631308", "self": "https://issues.apache.org/jira/rest/api/2/issue/13631308", "key": "KAFKA-19782", "fields": {"summary": "Improve perfomance Authorizer.authorizeByResourceType by using Prefix Trie", "description": "Class Authorizer.authorizeByResourceType under the hood uses HashMap for \r\ncheck if the caller is authorized to perform the\u00a0given ACL operation on at least one resource of the given type.\r\n\r\nIt check each character in allowPatterns and pass to deny patterns\r\n\r\n{code:java}\r\n// For any literal allowed, if there's no dominant literal and prefix denied, return allow.\r\n        // For any prefix allowed, if there's no dominant prefix denied, return allow.\r\n        for (Map.Entry<PatternType, Set<String>> entry : allowPatterns.entrySet()) {\r\n            for (String allowStr : entry.getValue()) {\r\n                if (entry.getKey() == PatternType.LITERAL\r\n                        && denyPatterns.get(PatternType.LITERAL).contains(allowStr))\r\n                    continue;\r\n                StringBuilder sb = new StringBuilder();\r\n                boolean hasDominatedDeny = false;\r\n                for (char ch : allowStr.toCharArray()) {\r\n                    sb.append(ch);\r\n                    if (denyPatterns.get(PatternType.PREFIXED).contains(sb.toString())) {\r\n                        hasDominatedDeny = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!hasDominatedDeny)\r\n                    return AuthorizationResult.ALLOWED;\r\n            }\r\n        }\r\n{code}\r\n\r\nTo improve performance better use Prefix Tree\r\n", "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=evkuvardin", "name": "evkuvardin", "key": "JIRAUSER308105", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Evgeny Kuvardin", "active": true, "timeZone": "Etc/UTC"}, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13631308/comment/18030309", "id": "18030309", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dexterargon", "name": "dexterargon", "key": "JIRAUSER311236", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"}, "displayName": "Abhishek", "active": true, "timeZone": "Etc/UTC"}, "body": "[~evkuvardin] can I take up this issue?", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dexterargon", "name": "dexterargon", "key": "JIRAUSER311236", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"}, "displayName": "Abhishek", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-16T10:12:08.674+0000", "updated": "2025-10-16T10:12:08.674+0000"}], "maxResults": 1, "total": 1, "startAt": 0}, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/4", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg", "name": "Minor", "id": "4"}, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/1", "description": "The issue is open and ready for the assignee to start work on it.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "name": "Open", "id": "1", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray", "name": "To Do"}}}}