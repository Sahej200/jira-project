{"expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations", "id": "13630900", "self": "https://issues.apache.org/jira/rest/api/2/issue/13630900", "key": "KAFKA-19768", "fields": {"summary": "`ci-complete` needs to work with active branches after the JDK is updated", "description": "The JDK version used by `ci-complete` is inconsistent with other active branches, which is causing the build report task to fail", "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712", "name": "chia7712", "key": "chia7712", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"}, "displayName": "Chia-Ping Tsai", "active": true, "timeZone": "Asia/Taipei"}, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13630900/comment/18028154", "id": "18028154", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712", "name": "chia7712", "key": "chia7712", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"}, "displayName": "Chia-Ping Tsai", "active": true, "timeZone": "Asia/Taipei"}, "body": "Perhasp we could use multiple branches to handle this case.\r\n\r\n\u00a0\r\n{code:java}\r\njobs:\r\n  upload-build-scan-main:\r\n    if: github.event.workflow_run.head_branch == 'trunk'\r\n    runs-on: ubuntu-latest\r\n    strategy:\r\n      matrix:\r\n    # ... rest of the steps\r\n\r\n  upload-build-scan-other:\r\n    if: github.event.workflow_run.head_branch != 'trunk'\r\n    runs-on: ubuntu-latest\r\n    strategy:\r\n      matrix:  \r\n   # ... rest of the steps{code}\r\n\u00a0\r\n\r\n\u00a0", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712", "name": "chia7712", "key": "chia7712", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"}, "displayName": "Chia-Ping Tsai", "active": true, "timeZone": "Asia/Taipei"}, "created": "2025-10-07T16:38:33.961+0000", "updated": "2025-10-07T16:38:33.961+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630900/comment/18028208", "id": "18028208", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dejan2609", "name": "dejan2609", "key": "dejan2609", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dejan2609&avatarId=29049", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dejan2609&avatarId=29049", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dejan2609&avatarId=29049", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dejan2609&avatarId=29049"}, "displayName": "Dejan Stojadinovi\u0107", "active": true, "timeZone": "Europe/Belgrade"}, "body": "Another idea to be considered (on): https://docs.aws.amazon.com/amazonq/latest/qdeveloper-ug/github-code-transformation-workflow-advanced.html\r\nFYI [~mingyen066]", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dejan2609", "name": "dejan2609", "key": "dejan2609", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dejan2609&avatarId=29049", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dejan2609&avatarId=29049", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dejan2609&avatarId=29049", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dejan2609&avatarId=29049"}, "displayName": "Dejan Stojadinovi\u0107", "active": true, "timeZone": "Europe/Belgrade"}, "created": "2025-10-07T22:03:01.032+0000", "updated": "2025-10-07T22:03:01.032+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630900/comment/18029635", "id": "18029635", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=davidarthur", "name": "davidarthur", "key": "davidarthur", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "David Arthur", "active": true, "timeZone": "Etc/UTC"}, "body": "Do we know if it's possible to upload a build scan using Gradle version 9 that was produced using Gradle 8? I expect it might not work since the build scan data format may change.\u00a0\r\n\r\n\u00a0\r\n\r\nOne thing we could try is to include a file in the build scan archive that indicates what version of Gradle and JDK were used. We can load these properties before running setup-gradle so we can select the correct version. There's nothing built in to GHA that helps here (as far as i know), maybe we can use JSON and \"jq\"?\u00a0\r\n\r\n\u00a0\r\n\r\nI won't be able to work on this unfortunately, but I'm happy to help with reviews.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=davidarthur", "name": "davidarthur", "key": "davidarthur", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "David Arthur", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-14T00:03:32.595+0000", "updated": "2025-10-14T00:03:32.595+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630900/comment/18032845", "id": "18032845", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=mingyen066", "name": "mingyen066", "key": "JIRAUSER287528", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"}, "displayName": "Ming-Yen Chung", "active": true, "timeZone": "Asia/Taipei"}, "body": "Thanks for the suggestions,\u00a0[~dejan2609] and [~davidarthur]\r\n\r\nAfter understanding the situation, I think the problem is not just the JDK version \u2013 the artifact names are also different. The newer archive uses the names with suffix ['flaky' | 'noflaky']-['new'|'nonew'], which 4.0 does not have.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=mingyen066", "name": "mingyen066", "key": "JIRAUSER287528", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"}, "displayName": "Ming-Yen Chung", "active": true, "timeZone": "Asia/Taipei"}, "created": "2025-10-24T18:29:16.100+0000", "updated": "2025-10-24T18:31:13.267+0000"}], "maxResults": 4, "total": 4, "startAt": 0}, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/4", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg", "name": "Minor", "id": "4"}, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/1", "description": "The issue is open and ready for the assignee to start work on it.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "name": "Open", "id": "1", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray", "name": "To Do"}}}}