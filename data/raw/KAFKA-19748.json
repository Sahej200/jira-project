{"expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations", "id": "13630375", "self": "https://issues.apache.org/jira/rest/api/2/issue/13630375", "key": "KAFKA-19748", "fields": {"summary": "Memory leak using range scans", "description": "We introduced a regression bug in AK 4.1.0 release, when range scans are use. We are leaking some metrics/sensors.\r\n\r\nThanks to [~eduwerc] and [~hermankj] for reporting this issue.\r\n\r\nAnybody who is using iterator, ie, any type of all/rang/prefix scan etc is affected. Note that certain DSL operators like session-windows, sliding-windows, stream-stream joins, and FK-join all use range scans internally, so the number of affected users is expected to be quite high.", "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax", "name": "mjsax", "key": "mjsax", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"}, "displayName": "Matthias J. Sax", "active": true, "timeZone": "America/Los_Angeles"}, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13630375/comment/18024701", "id": "18024701", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=shashankhs", "name": "shashankhs", "key": "JIRAUSER310276", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Shashank", "active": true, "timeZone": "Etc/UTC"}, "body": "> also update the Kafka web page with a note that people should be\r\ncareful and maybe not even upgrade to Kafka Streams 4.1.0.\r\n\r\nHi [~mjsax], I can make a PR for the documentation changes. Would [upgrade-guide.html|https://github.com/shashankhs11/kafka/blob/trunk/docs/streams/upgrade-guide.html] be an ideal spot for this note?", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=shashankhs", "name": "shashankhs", "key": "JIRAUSER310276", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Shashank", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-04T20:07:25.477+0000", "updated": "2025-10-04T20:07:25.477+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630375/comment/18024703", "id": "18024703", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax", "name": "mjsax", "key": "mjsax", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"}, "displayName": "Matthias J. Sax", "active": true, "timeZone": "America/Los_Angeles"}, "body": "Yes, the upgrade-guide would be the right place. I would also add a note to the top-level upgrade note in addition: [https://github.com/apache/kafka/blob/trunk/docs/upgrade.html#L194]\u00a0", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax", "name": "mjsax", "key": "mjsax", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"}, "displayName": "Matthias J. Sax", "active": true, "timeZone": "America/Los_Angeles"}, "created": "2025-10-04T20:44:57.866+0000", "updated": "2025-10-04T20:44:57.866+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630375/comment/18024809", "id": "18024809", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=shashankhs", "name": "shashankhs", "key": "JIRAUSER310276", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Shashank", "active": true, "timeZone": "Etc/UTC"}, "body": "Done! Made a PR for this - [#20639|https://github.com/apache/kafka/pull/20639]", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=shashankhs", "name": "shashankhs", "key": "JIRAUSER310276", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Shashank", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-05T20:00:42.048+0000", "updated": "2025-10-05T20:00:42.048+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630375/comment/18027918", "id": "18027918", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "body": "shashankhs11 opened a new pull request, #729:\nURL: https://github.com/apache/kafka-site/pull/729\n\n   Added a note regarding the memory leak bug in the documentation.\r\n   \r\n   ### Preview of `/41/documentation/streams/upgrade-guide`\r\n   \r\n   <img width=\"1452\" height=\"830\" alt=\"upgrade-guide\" src=\"https://github.com/user-attachments/assets/fcb52d08-1351-4f03-ad89-baf1b9e8eac0\" />\r\n   \r\n   ### Preview of `/41/documentation/#upgrade`\r\n   \r\n   <img width=\"1452\" height=\"830\" alt=\"upgrade\" src=\"https://github.com/user-attachments/assets/1114d3f1-f6ca-4a00-885f-f677d18d4095\" />\r\n   \n\n\n", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-06T21:30:57.040+0000", "updated": "2025-10-06T21:30:57.040+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630375/comment/18027932", "id": "18027932", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "body": "mjsax merged PR #729:\nURL: https://github.com/apache/kafka-site/pull/729\n\n\n", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-06T22:45:41.739+0000", "updated": "2025-10-06T22:45:41.739+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13630375/comment/18027933", "id": "18027933", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "body": "mjsax commented on PR #729:\nURL: https://github.com/apache/kafka-site/pull/729#issuecomment-3374531674\n\n   Thanks for the PR!\n\n\n", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=githubbot", "name": "githubbot", "key": "githubbot", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "ASF GitHub Bot", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-10-06T22:46:06.976+0000", "updated": "2025-10-06T22:46:06.976+0000"}], "maxResults": 6, "total": 6, "startAt": 0}, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/1", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg", "name": "Blocker", "id": "1"}, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/5", "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "name": "Resolved", "id": "5", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green", "name": "Done"}}}}