{"expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations", "id": "13623492", "self": "https://issues.apache.org/jira/rest/api/2/issue/13623492", "key": "HADOOP-19625", "fields": {"summary": "Migrate from Java to Jakarta - Upgrade to Jersey 3.x, Jetty 12.x", "description": "This Jira is to track the migration of Javax to Jakarta in Hadoop and identify all the transitive dependencies which need to be migrated as well. Currently, I see the following major upgrades required:\r\n # Jersey: 2.46 to 3.x\r\n # Jetty: 9.x to 12.x", "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13623492/comment/18007291", "id": "18007291", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "body": "Jersey 3.x uses the Jakarta namespace, which introduces some compatibility considerations with Jetty versions:\r\n * Jetty 9.x is EOL and must be upgraded.\r\n\r\n * Jetty 12 EE8 supports the legacy {{javax}} namespace.\r\n\r\n * Jetty 12 EE10 supports the newer {{jakarta}} namespace.\r\n\r\nFrom my initial work on the patch, here's how Jersey versions map to Jetty:\r\n * Jersey 3.0.x requires Jetty 11, which has also reached EOL and is no longer community-supported.\r\n\r\n * Jersey 3.1.4+ requires Jetty 12 EE10, aligning with the Jakarta namespace and offering long-term support.\r\n\r\nReference: [Jersey Migration Guide|https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest31x/migration.html#mig-3.0.0]\r\nRelated prior work: [Hadoop PR #7130|https://github.com/apache/hadoop/pull/7130]\r\n\r\nGiven that both Jetty 9 and 11 are EOL, and that Jersey 3.1.4+ requires EE10, the cleaner long-term approach would be to migrate directly to Jersey 3.1.4+ with Jetty 12 EE10 (requires JDK 17).\r\n\r\nWould like to confirm if this is the right direction before proceeding further. Kindly provide your inputs on the same [~stevel@apache.org], [~fanningpj]\u00a0", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-07-15T17:03:28.854+0000", "updated": "2025-07-21T07:28:57.954+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13623492/comment/18008051", "id": "18008051", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=kunda", "name": "kunda", "key": "kunda", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Yaniv Kunda", "active": true, "timeZone": "Asia/Jerusalem"}, "body": "[~palsai] I already created HADOOP-19395 earlier this year,\r\nbut as I've mentioned, it needs to wait for Java 17 as the baseline.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=kunda", "name": "kunda", "key": "kunda", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Yaniv Kunda", "active": true, "timeZone": "Asia/Jerusalem"}, "created": "2025-07-18T12:08:16.826+0000", "updated": "2025-07-18T12:08:16.826+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13623492/comment/18013181", "id": "18013181", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "body": "Hi [~kunda], thank you very much for your reply.\u00a0\r\n\r\nI see that a lot of the JDK17 work has been completed and the CI pipeline setup work for trunk is in progress. HADOOP-17177\r\n\r\nThank you [~slfan1989] for driving the JDK17 efforts.\r\n\r\nMeanwhile, I came across this mail thread for jetty upgrade in Hbase: [https://lists.apache.org/thread/bkrfm705kqd3bqzyvo7jv46t6p64x2n5]\u00a0\r\n\r\nSince jetty-9.x line is currently EOCS, we need to bump jetty to 12.x (jetty 11 line is EOCS as well).\r\n\r\n*Proposal 1:* \r\n\r\n2 Phase Approach:\r\n # Bump jetty 9.x to 12.x EE8 which supports the javax namespace, once this change is done and tested, we work on moving to jakarta completely.\r\n # Bump jetty from 12.x EE8 (javax namespace) to 12.x EE10 (jakarta namespace), bump jersey to 3.x and other required library upgrades for moving completely to the jakarta namespace.\r\n\r\n*Proposal 2:*\u00a0\r\n\r\nDirectly move to jakarta namespace. (bump jetty to 12.x EE10 and jersey to 3.x and other required library upgrades, code changes and testing).\r\n\r\nCan you please provide your inputs on the same?\u00a0\r\n\r\ncc: [~kunda], [~slfan1989], [~stevel@apache.org], [~brahmareddy]\u00a0\r\n\r\nThank you.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-08-11T08:59:41.084+0000", "updated": "2025-08-11T08:59:41.084+0000"}, {"self": "https://issues.apache.org/jira/rest/api/2/issue/13623492/comment/18013661", "id": "18013661", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "body": "[~kunda], are you working on this? Since most of the JDK17 work seems to be completed and local build works with JDK17, I was thinking if we could work on the patch meanwhile.", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=palsai", "name": "palsai", "key": "JIRAUSER302593", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"}, "displayName": "Palakur Eshwitha Sai", "active": true, "timeZone": "Etc/UTC"}, "created": "2025-08-13T11:06:56.267+0000", "updated": "2025-08-13T11:06:56.267+0000"}], "maxResults": 4, "total": 4, "startAt": 0}, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/3", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg", "name": "Major", "id": "3"}, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/1", "description": "The issue is open and ready for the assignee to start work on it.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "name": "Open", "id": "1", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray", "name": "To Do"}}}}