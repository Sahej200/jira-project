{"expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations", "id": "13612920", "self": "https://issues.apache.org/jira/rest/api/2/issue/13612920", "key": "HADOOP-19511", "fields": {"summary": "S3A: AWS4SignerType failing after S3 service changes", "description": "With the latest change to the AWS S3 integrity, all existing releases of hadoop using the v2 SDK < 2.30.x appear to fail if the AWS4SignerType is used for signing. \r\n\r\n{code}\r\n\r\n\r\n  <property>\r\n    <name>fs.s3a.bucket.signing-algorithm</name>\r\n    <value>AWS4SignerType</value>\r\n  </property>\r\n{code}\r\n\r\n\r\nrejected at far end by\r\n{code}\r\n\r\nCaused by: software.amazon.awssdk.services.s3.model.S3Exception: Missing required header for this request: x-amz-content-sha256 (Service: S3, Status Code: 400, Request ID: 7M0MNNE8NBAGZWFH, Extended Request ID: A/0oyoZ52GLklg+GuV70vqPNEAK350ZF1rTJaNtSajWSXLT5bUCC/Gu6VbN8Pu+AeaMboIIGyGHeFLXOKUwdVQ==)\r\n{code}\r\n\r\n\r\nPresumably some change in 2.30.0 restored compatibility, but this means that all shipping 3.4.x releases do not work.\r\n", "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "name": "stevel@apache.org", "key": "stevel@apache.org", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"}, "displayName": "Steve Loughran", "active": true, "timeZone": "Europe/London"}, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13612920/comment/17937941", "id": "17937941", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "name": "stevel@apache.org", "key": "stevel@apache.org", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"}, "displayName": "Steve Loughran", "active": true, "timeZone": "Europe/London"}, "body": "If this goes away with 2.30.0+ SDKs, then we should \r\n\r\n* include it in the release notes for HADOOP-19485\r\n* Expect it to go away with later releases\r\n* add it to the qualification test matrix", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=stevel%40apache.org", "name": "stevel@apache.org", "key": "stevel@apache.org", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stevel%40apache.org&avatarId=16513", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stevel%40apache.org&avatarId=16513", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stevel%40apache.org&avatarId=16513", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stevel%40apache.org&avatarId=16513"}, "displayName": "Steve Loughran", "active": true, "timeZone": "Europe/London"}, "created": "2025-03-24T15:49:58.406+0000", "updated": "2025-03-24T15:49:58.406+0000"}], "maxResults": 1, "total": 1, "startAt": 0}, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/3", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg", "name": "Major", "id": "3"}, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/1", "description": "The issue is open and ready for the assignee to start work on it.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png", "name": "Open", "id": "1", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2", "id": 2, "key": "new", "colorName": "blue-gray", "name": "To Do"}}}}