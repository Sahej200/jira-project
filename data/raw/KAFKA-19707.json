{"expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations", "id": "13628836", "self": "https://issues.apache.org/jira/rest/api/2/issue/13628836", "key": "KAFKA-19707", "fields": {"summary": "Develocity Gradle plugin version can't be upgraded (CI build fails with error: \"build scan failed to be published\")", "description": "*Prologue:* this issue was discovered while working on Gradle upgrade (from 8 to 9); related JIRA tickets:\r\n * KAFKA-19174\r\n * KAFKA-19654\r\n\r\n*Environment:*\r\n * Develocity instance (version 2025.2.4): [https://develocity.apache.org/scans?search.rootProjectNames=kafka]\r\n * Gradle version 8.14.3, GitHub Actions for Gradle builds: 4.3.0\r\n * Gradle version 9.0.0, GitHub Actions for Gradle builds: 4.4.3\r\n * note: Github Actions for Gradle is using wrapper Gradle version (definition is here: .github/actions/setup-gradle/action.yml)\r\n\r\n*Scenario:*\r\n * upgrade {{com.gradle.develocity}} Gradle plugin version from a current version (3.19) to any recent version (3.19.1 and/or more recent)\r\n * GitHub Action build breaks (with this error: \"build scan failed to be published\") for both Gradle 8.14.3 and Gradle 9.0.0\r\n * (!) note for commit that contains Gradle 9.0.0: Github Actions build shows wrong Gradle version (8.14.3)\r\n\r\n*Test cases:*\r\n * test case [1]\r\n ** baseline: Gradle 8.14.3 /com.gradle.develocity 3.19\r\n ** git commit: last main branch (trunk) commit\r\n ** build result -->> everything works fine (/) (no surprises here, it's a trunk after all)\r\n * test case [2]\r\n ** Gradle version 8.14.3 / com.gradle.develocity 3.19.2\r\n ** git commit: [https://github.com/apache/kafka/pull/20450/commits/d930867e8c2b4dd3f79f032e7b17328cf0ea97ef]\r\n ** Github actions error: (x) [https://github.com/apache/kafka/actions/runs/17714050963]\r\n * test case [3]\r\n ** Gradle version 9.0.0 / com.gradle.develocity 3.19\r\n ** git commit: [https://github.com/apache/kafka/pull/20450/commits/3b624732469835abc54ce06c2a554361578e7c6a]\r\n ** build result -->> everything works fine (/)\r\n ** Giithub actions build: ([https://github.com/apache/kafka/actions/runs/17714609830/job/50338068122?pr=20450])\r\n ** scan for Java 17: [https://develocity.apache.org/s/o2v23hp2575mu]\r\n ** scan for Java 24: [https://develocity.apache.org/s/nui35ngzalmrm]\r\n * test case [4]\r\n ** Gradle version 9.0.0 / com.gradle.develocity 3.19.2\r\n ** git commit: [https://github.com/apache/kafka/pull/20450/commits/e1a4ff5a5be79a7a9592795e48e40b2b421a10b0]\r\n ** Github actions error: (x) [https://github.com/apache/kafka/actions/runs/17719128481]\r\n ** (!) _note: Gradle version displayed on Github Actions build is wrong: 8.14.3 (not 9.0.0)_", "reporter": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dejan2609", "name": "dejan2609", "key": "dejan2609", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dejan2609&avatarId=29049", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dejan2609&avatarId=29049", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dejan2609&avatarId=29049", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dejan2609&avatarId=29049"}, "displayName": "Dejan Stojadinovi\u0107", "active": true, "timeZone": "Europe/Belgrade"}, "comment": {"comments": [{"self": "https://issues.apache.org/jira/rest/api/2/issue/13628836/comment/18020459", "id": "18020459", "author": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dejan2609", "name": "dejan2609", "key": "dejan2609", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dejan2609&avatarId=29049", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dejan2609&avatarId=29049", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dejan2609&avatarId=29049", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dejan2609&avatarId=29049"}, "displayName": "Dejan Stojadinovi\u0107", "active": true, "timeZone": "Europe/Belgrade"}, "body": "Solving as *_Not a Bug_* (see explanation here: [https://github.com/gradle/actions/issues/731#issuecomment-3293524417|https://github.com/gradle/actions/issues/731#issuecomment-3293524417)] by [~daz]).", "updateAuthor": {"self": "https://issues.apache.org/jira/rest/api/2/user?username=dejan2609", "name": "dejan2609", "key": "dejan2609", "avatarUrls": {"48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dejan2609&avatarId=29049", "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dejan2609&avatarId=29049", "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dejan2609&avatarId=29049", "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dejan2609&avatarId=29049"}, "displayName": "Dejan Stojadinovi\u0107", "active": true, "timeZone": "Europe/Belgrade"}, "created": "2025-09-15T20:17:55.201+0000", "updated": "2025-09-15T20:17:55.201+0000"}], "maxResults": 1, "total": 1, "startAt": 0}, "priority": {"self": "https://issues.apache.org/jira/rest/api/2/priority/4", "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg", "name": "Minor", "id": "4"}, "status": {"self": "https://issues.apache.org/jira/rest/api/2/status/5", "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png", "name": "Resolved", "id": "5", "statusCategory": {"self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3", "id": 3, "key": "done", "colorName": "green", "name": "Done"}}}}